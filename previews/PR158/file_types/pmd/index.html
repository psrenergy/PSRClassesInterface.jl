<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PMD · PSRClassesInterface.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PSRClassesInterface.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../manual/">Manual</a></li><li><span class="tocitem">Files and Structs manual</span><ul><li><a class="tocitem" href="../file_diagram/">PSRI Files and Structs 101</a></li><li class="is-active"><a class="tocitem" href>PMD</a><ul class="internal"><li><a class="tocitem" href="#Defining-a-model"><span>Defining a model</span></a></li><li><a class="tocitem" href="#Defining-a-parameter"><span>Defining a parameter</span></a></li></ul></li><li><a class="tocitem" href="../model_template/">Model Template</a></li><li><a class="tocitem" href="../relation_mapper/">Relation Mapper</a></li><li><a class="tocitem" href="../psrclasses/">psrclasses.json and Defaults</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/reading_parameters/">Reading parameters</a></li><li><a class="tocitem" href="../../examples/reading_relations/">Reading Relations</a></li><li><a class="tocitem" href="../../examples/graf_files/">Graf Files and Time Series</a></li><li><a class="tocitem" href="../../examples/reading_demands/">Reading Demands</a></li><li><a class="tocitem" href="../../examples/modification/">Modifying a Study</a></li><li><a class="tocitem" href="../../examples/custom_study/">Customizing a Study</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Files and Structs manual</a></li><li class="is-active"><a href>PMD</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PMD</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/psrenergy/PSRClassesInterface.jl/blob/master/docs/src/file_types/pmd.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PMD"><a class="docs-heading-anchor" href="#PMD">PMD</a><a id="PMD-1"></a><a class="docs-heading-anchor-permalink" href="#PMD" title="Permalink"></a></h1><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>We have a syntax highlighter for .pmd files available on <a href="https://marketplace.visualstudio.com/items?itemName=pedromxavier.psr-pmd">Visual Studio&#39;s Marktetplace</a></p></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The syntax for PMD files is case-sensitive </p></div></div><p>PMD files are used to define models accross multiple PSR software. It stores metadata about every attribute and relation.</p><h2 id="Defining-a-model"><a class="docs-heading-anchor" href="#Defining-a-model">Defining a model</a><a id="Defining-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-a-model" title="Permalink"></a></h2><p>To define a model <code>Custom_Model_v1</code>, you need to use the following structure:</p><pre><code class="nohighlight hljs">DEFINE_MODEL MODL:Custom_Model_v1

	...

END_MODEL</code></pre><h2 id="Defining-a-parameter"><a class="docs-heading-anchor" href="#Defining-a-parameter">Defining a parameter</a><a id="Defining-a-parameter-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-a-parameter" title="Permalink"></a></h2><p>A parameter can be either a <code>VECTOR</code> or a <code>PARM</code>.</p><h3 id="PARM"><a class="docs-heading-anchor" href="#PARM"><code>PARM</code></a><a id="PARM-1"></a><a class="docs-heading-anchor-permalink" href="#PARM" title="Permalink"></a></h3><pre><code class="nohighlight hljs">DEFINE_MODEL MODL:Custom_Model_v1

	...

	PARM INTEGER Iterations
	PARM REAL Price
	PARM STRING Name
	PARM DATE DateOfEvent

	...

END_MODEL</code></pre><h3 id="VECTOR"><a class="docs-heading-anchor" href="#VECTOR"><code>VECTOR</code></a><a id="VECTOR-1"></a><a class="docs-heading-anchor-permalink" href="#VECTOR" title="Permalink"></a></h3><p>A <code>VECTOR</code> parameter can store the same types as a <code>PARM</code>. Additionally can have an indexing parameter attribute.</p><p>Let&#39;s say that you have a vector <code>Cost</code> where each index corresponds to a cost in a specific date. We can use an auxiliary indexing vector <code>CostDates</code> to access the cost value correspondent to a given date (see the <a href="../../examples/graf_files/">Graf Files and Time Series</a> example).</p><pre><code class="nohighlight hljs">DEFINE_MODEL MODL:Custom_Model_v1

	...

	VECTOR DATE CostDates
	VECTOR REAL Cost INDEX CostDates

	...

END_MODEL</code></pre><h3 id="Parameters-with-dimension"><a class="docs-heading-anchor" href="#Parameters-with-dimension">Parameters with dimension</a><a id="Parameters-with-dimension-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-with-dimension" title="Permalink"></a></h3><p>A <code>VECTOR</code> or <code>PARM</code> parameter can change according to a given Stage, Scenario and/or Block dimension (see the <a href="../../examples/graf_files/">Graf Files and Time Series</a> example). We can specify whether a parameter is dimensioned using the following syntax:</p><pre><code class="nohighlight hljs">DEFINE_MODEL MODL:Custom_Model_v1

	...

	PARM INTEGER Iterations DIM(block)

	VECTOR REAL Duration DIM(block) 

	VECTOR DATE CostDates
	VECTOR REAL Cost DIM(block,segment) INDEX CostDates 

	...

END_MODEL</code></pre><h3 id="REFERENCE"><a class="docs-heading-anchor" href="#REFERENCE"><code>REFERENCE</code></a><a id="REFERENCE-1"></a><a class="docs-heading-anchor-permalink" href="#REFERENCE" title="Permalink"></a></h3><p>Besides <code>REAL</code>, <code>INTEGER</code>, <code>STRING</code> and <code>DATE</code>, there is a fith attribute type labeled <code>REFERENCE</code>.  It can be stored either in a <code>VECTOR</code> or a <code>PARM</code>.</p><p>A <code>REFERENCE</code> represents a relation between two models(or collections, when considering a PSRI study).</p><p>It has the following structure:</p><pre><code class="nohighlight hljs">DEFINE_MODEL MODL:Custom_Model_v1

	...

	PARM REFERENCE Plant TargetCollection  

	VECTOR REFERENCE Items SecondTargetCollection

	...

END_MODEL</code></pre><p>In this example, our Custom<em>Model</em>v1 model has two relations:</p><ul><li>a relation of <code>1 to 1</code> (for being a <code>PARM</code> parameter) with elements of collection TargetCollection</li><li>a relation of <code>1 to N</code> (for being a <code>VECTOR</code> parameter) with elements of collection SecondTargetCollection</li></ul><p>The <code>Plant</code> and <code>Items</code> parameters store the <code>reference_id</code> of the corresponding elements from collections TargetCollection and SecondTargetCollection, respectively.</p><p>Note that the names TargetCollection and SecondTargetCollection are the name of the collections inside the study, not their name in the PMD file.  This difference between names is explained in the <a href="../model_template/">Model Template manual</a>.</p><p>Also, we define a <code>REFERENCE</code> only in the models which play the role of source. </p><p>There is another way to define relations in a study. For that, see the <a href="../relation_mapper/">Relation Mapper manual</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../file_diagram/">« PSRI Files and Structs 101</a><a class="docs-footer-nextpage" href="../model_template/">Model Template »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 8 August 2023 04:12">Tuesday 8 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
