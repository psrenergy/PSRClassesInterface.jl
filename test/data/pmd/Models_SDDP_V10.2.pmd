//--------------------------------------------------------------------------------------------------
// Modelo de Configuracao do SDDP
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_ConfiguracaoEstudo
        DIMENSION deficit_segment

	SUB_MODEL MODL:SDDP_Execution_Options 	ExecutionParameters
	SUB_MODEL MODL:SDDP_Cronological_Data 	ChronologicalData
	SUB_MODEL MODL:SDDP_Hourly_Data 	HourlyData

	PARM INTEGER Idioma
	PARM INTEGER Objetivo
	PARM INTEGER Opcao
	PARM INTEGER Tipo_Etapa
	PARM INTEGER Vazoes
	PARM INTEGER Manutencao
	PARM INTEGER Configuracao
	PARM INTEGER Rede
	PARM INTEGER Perdas
	PARM INTEGER Horizonte
	PARM INTEGER Series_Simular
	PARM INTEGER Etapa_inicial
	PARM INTEGER Ano_inicial
	PARM INTEGER NumeroEtapas
	PARM INTEGER Mes_Inicial_Hidro
	PARM INTEGER Ano_Inicial_Hidro
	PARM INTEGER NumeroSistemas
	PARM INTEGER Series_Forward
	PARM INTEGER Series_Backward
	PARM INTEGER NumeroBlocosDemanda
	PARM INTEGER NumeroBlocosDemandaParm2
	PARM INTEGER NumeroAnosAdicionais
	PARM INTEGER NumeroAnosAdicionaisParm2
	PARM INTEGER NumeroAnosAdicionaisParm3
	PARM INTEGER MaximoIteracoes
	PARM REAL    CriterioConvergencia
	PARM INTEGER NivelInformes
	PARM REAL    TaxaDesconto
	PARM REAL    MinOutflowPenalty
	PARM REAL    SpillagePenalty
	VECTOR REAL  DeficitSegment
	VECTOR REAL  DeficitCost

	//--- Codigos dos Sistemas Listados ---
	VECTOR INTEGER CodigoSistemas

	//--- Index das series selecionadas ---
	VECTOR INTEGER IndexSeriesSimulacao

	//--------------------------------------
	//--- Controle de Versao             ---
	//--------------------------------------
	PARM STRING VersaoInfoCargaBarra
	PARM INTEGER VersionRenewableBlockProfile

	//--------------------------------------
	//--- HourBlock Map                  ---
	//--------------------------------------
	VETOR DATE 	DataHourBlock
	VETOR INTEGER 	HourBlockMap INDEX DataHourBlock

	//--------------------------------------
	//--- Parametros comuns              ---
	//--------------------------------------
	PARM INTEGER NumberSimulations
	PARM INTEGER NumberOpenings
	PARM INTEGER NumberBlocks

	//--------------------------------------
	//--- Parametros monetarios          ---
	//--------------------------------------
	PARM  	STRING	CurrencyReference
	VETOR	STRING 	Currency
	VETOR 	REAL	CurrencyFactor

	//--------------------------------------
	//--- Parametros de custo futuro     ---
	//--------------------------------------
	PARM	INTEGER FlagCreateFutureCost
	PARM	INTEGER	FutureCostStage
	PARM	INTEGER	FutureCostYear
	PARM 	STRING	FutureCostEntryFileName

	PARM	INTEGER FlagReadFutureCost
	PARM 	STRING	FutureCostReadFileName

	//--------------------------------------
	//--- Parametros de Hot Start        ---
	//--------------------------------------
	PARM	INTEGER FlagUseHotStart
	PARM	INTEGER InitialStageFutureCost
	PARM	INTEGER FinalStageFutureCost

	PARM	INTEGER	MinSpillageUnit

	VETOR DATE DateChroDeficitCost
	VETOR REAL ChroDeficitCost DIM(deficit_segment) INDEX DateChroDeficitCost

	//--------------------------------------
	//--- Configuracao subhorario        ---
	//--------------------------------------
	PARM INTEGER SubHourlyDiscretization
	VETOR DATE SubHourlyStage
	VETOR INTEGER SubHourlyScenario INDEX SubHourlyStage
	VETOR INTEGER SubHourlyDays INDEX SubHourlyStage


END_MODEL
//--------------------------------------------------------------------------------------------------
// Sistema
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Sistema
	PARM INTEGER		TipoInfoManutencaoHidro
	PARM INTEGER		TipoUnidadeManutencaoHidro
	PARM INTEGER		TipoInfoManutencaoTermica
	PARM INTEGER		TipoUnidadeManutencaoTermica

	PARM INTEGER		TipoInfoReservaGirante
	PARM INTEGER		TipoUnidadeReservaGirante

	PARM INTEGER		TipoInfoReservaGeracao
	PARM INTEGER		TipoUnidadeReservaGeracao

	PARM STRING UnM
    PARM INTEGER Ignored

    PARM INTEGER TimeZoneOffset

	PARM REAL RiskAversionCurvePenalty

	VETOR DATE		DataEmissionCost
	VETOR REAL		EmissionCost  INDEX DataEmissionCost
	VETOR DATE		DataRiskAversionCurve
	VETOR REAL		RiskAversionCurve  INDEX DataRiskAversionCurve
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para grupo de sensibilidade
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_GroupSensitivity
	PARM	INTEGER		Status
END_MODEL
//--------------------------------------------------------------------------------------------------
// Senvitivity
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL SDDP_V10.2_Sensitivity
	PARM	STRING		Keyword
	PARM	INTEGER		SystemCode
	PARM	INTEGER		ElementCode
	PARM	REAL		Factor
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Duracao Fixa
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_DuracaoFixa
        DIMENSION 	block
	PARM REAL 	Duracao	DIM(block)
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para Duracao Variavel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_DuracaoVariavel
        DIMENSION 	block
	VETOR DATE 	Data
	VETOR REAL 	Duracao	DIM(block) INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para a Area
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Area
        DIMENSION  block
	VETOR DATE Data
	VETOR REAL Export DIM(block) INDEX Data
	VETOR REAL Import DIM(block) INDEX Data
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para a Carga de Barra
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_CargaBarra
        DIMENSION  block
	VETOR DATE Data
	VETOR REAL P	DIM(block) INDEX Data
	VETOR REAL Pind DIM(block) INDEX Data
	VETOR REAL PerF DIM(block) INDEX Data

	VETOR INTEGER icca
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para a Demanda
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Demanda
        DIMENSION  block
	VETOR DATE 	Data
	PARM  INTEGER	Elastico
	PARM  INTEGER   IsFlexible
	VETOR REAL 	CoefVariation DIM(block) INDEX Data
	PARM  REAL	Duracao DIM(block)

	PARM REAL MaxShiftUp
	PARM REAL MaxShiftDown
	PARM REAL CurtCost
	PARM REAL MaxCurt
	PARM REAL Window
	PARM	INTEGER	SourceType
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Segmento de Demanda
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_SegmentoDemanda
        DIMENSION	block
	VETOR DATE 	Data
	VETOR REAL 	Demanda	DIM(block) INDEX Data
	VETOR DATE 	DataCusto
	VETOR REAL 	Custo	DIM(block) INDEX DataCusto

	//--------------------------------------
	//--- Demanda Horaria                ---
	//--------------------------------------
	VETOR DATE 	DataHourDemand
	VETOR REAL 	HourDemand INDEX DataHourDemand
	VETOR DATE 	DataHourDemandPrice
	VETOR REAL 	HourDemandPrice INDEX DataHourDemandPrice

	VETOR DATE 	DataHourDemandScen
	VETOR REAL 	HourDemandScen INDEX DataHourDemandScen
END_MODEL
//--------------------------------------------------------------------------------------------------
// Currency
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Currency
	PARM     STRING    Currency
END_MODEL

//--------------------------------------------------------------------------------------------------
// Interconnection
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Interconnection
        DIMENSION	  block

	VETOR   DATE      Data
	VETOR   INTEGER   Existing INDEX Data
	VETOR   DATE      DataCost->
	VETOR   DATE      DataCost<-
	VETOR   REAL      Capacity->     DIM(block) INDEX Data
	VETOR   REAL      Capacity<-     DIM(block) INDEX Data
	VETOR   REAL      LossFactor->              INDEX Data
	VETOR   REAL      LossFactor<-              INDEX Data
	VETOR   REAL      Cost->         DIM(block) INDEX DataCost->
	VETOR   REAL      Cost<-         DIM(block) INDEX DataCost<-

	MERGE_MODEL MODL:SDDP_V10.2_Currency

	DEFINE_VALIDATION

       	  //--- Validacao dos vetores indexados pela Data ---
	  FOR_EACH $(Data)

       	    //--- Atributos variantes por patamar ---
	    FOR @I=1,5
	      IF ($(Capacity->(@I)) < 0) THEN ERROR(1)
	      IF ($(Capacity<-(@I)) < 0) THEN ERROR(1)
	    END_FOR

   	    //---- Atributos independentes do patamar ---
	    IF ($(LossFactor->) < 0 OR $(LossFactor->) > 1 ) THEN ERROR(2)
	    IF ($(LossFactor<-) < 0 OR $(LossFactor<-) > 1 ) THEN ERROR(2)

	  END_FOR_EACH

       	  //--- Validacao dos patamares invariaves ---
	  IF ( $(Existing) != 0 AND $(Existing) != 1 ) THEN ERROR(3)
	  IF ( $(name).LENGTH() > 10 ) THEN ERROR(4)

	END_VALIDATION

END_MODEL
//--------------------------------------
//--- Modelo de Barra                ---
//--------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Bus
	PARM	REAL	Kv
	PARM	INTEGER	icca
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para a Circuito
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Circuito
	DIMENSION	  block

	VETOR DATE 	Data
	VETOR REAL	R INDEX Data
	VETOR REAL	X INDEX Data
	VETOR REAL	MVAr INDEX Data
	VETOR REAL	Tmn INDEX Data
	VETOR REAL	Tmx INDEX Data
	VETOR REAL	Pmn INDEX Data
	VETOR REAL	Pmx INDEX Data
	VETOR REAL	Rn INDEX Data
	VETOR REAL	Re INDEX Data
	VETOR INTEGER	I INDEX Data
	VETOR REAL	Prob INDEX Data
	VETOR INTEGER	Iflh INDEX Data
	VETOR INTEGER	Status INDEX Data
	//--- Marcado para monitoramento
	PARM INTEGER    FlagMonitored
	//--- Resolucao de capacidade (DLR)
	PARM INTEGER    Dchr
	//--- Marcado para contingencia
	PARM INTEGER    FlagContingency
	PARM INTEGER    FlagConstraint
	PARM INTEGER    FlagTariff
	PARM INTEGER    FlagDC

	PARM STRING    InternationalCurrency

	VETOR DATE 	DataInternationalCost->
	VETOR REAL	InternationalCost-> DIM(block) INDEX DataInternationalCost->

	VETOR DATE 	DataInternationalCost<-
	VETOR REAL	InternationalCost<- DIM(block) INDEX DataInternationalCost<-

	VETOR DATE InitialDateMaintenance
	VETOR DATE EndDateMaintenance INTERVAL InitialDateMaintenance
	VETOR REAL MaintenanceValue INDEX InitialDateMaintenance

	VETOR REAL RnScen
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para a Transformador
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_Transformador
    MERGE_MODEL MODL:SDDP_V10.2_Circuito
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para Termica
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Termica
        DIMENSION 		block
        DIMENSION		segment 3
        DIMENSION		fuels 3

	PARM INTEGER		ComT

	VETOR DATE		Data
	VETOR DATE		DataCesp
	VETOR DATE              DataChroGerMin
	VETOR INTEGER		Existing INDEX Data
	VETOR INTEGER		Unidades INDEX Data
	VETOR REAL		PotInst INDEX Data
	VETOR REAL		GerMin INDEX Data
	VETOR REAL		GerMax INDEX Data
	VETOR REAL		ICP INDEX Data
	VETOR REAL		IH INDEX Data
	VETOR REAL		O&MCost INDEX Data
	VETOR REAL		G DIM(segment) INDEX Data
	VETOR REAL		CEsp DIM(segment,block) INDEX DataCesp
	VETOR INTEGER		NAdF INDEX Data
	VETOR INTEGER		NAF DIM(fuels) INDEX Data
	VETOR REAL		CTransp INDEX Data
	VETOR REAL		StartUp INDEX Data
	VETOR INTEGER		sfal INDEX Data
	VETOR INTEGER		NGas INDEX Data
	VETOR REAL		CoefE INDEX Data

	//--- Geracao minima em informacao cronologica
	PARM REAL		ChroGerMinPenalty
	VETOR REAL		ChroGerMin DIM(block) INDEX DataChroGerMin

	VETOR DATE      DataSpinningReserve
	VETOR REAL      SpinningReserve DIM(block) INDEX DataSpinningReserve

	VETOR DATE		DataMaxSecondaryReserve
	VETOR REAL		MaxSecondaryReserve DIM(block) INDEX DataMaxSecondaryReserve
	VETOR DATE		DataPriceSecondaryReserve
	VETOR REAL		PriceSecondaryReserve DIM(block) INDEX DataPriceSecondaryReserve

	VETOR DATE		DataChronologicalStartup
	VETOR REAL		ChronologicalStartup DIM(block) INDEX DataChronologicalStartup

	//--- Curto prazo ---
        PARM REAL    RampUp
        PARM REAL    RampDown
        PARM REAL    MinUptime
        PARM REAL    MinDowntime
        PARM INTEGER MaxStartUps
        PARM INTEGER MaxShutDowns
        PARM REAL   ShutDownCost

	VETOR DATE InitialDateMaintenance
	VETOR DATE EndDateMaintenance INTERVAL InitialDateMaintenance
	VETOR REAL MaintenanceValue INDEX InitialDateMaintenance
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Hidro
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Hidro
        DIMENSION 		block
        DIMENSION		point 5
        DIMENSION		varpoint 1
        DIMENSION		month 12
	VETOR DATE      Data
	VETOR INTEGER   Existing       INDEX Data
	VETOR INTEGER   Unidades       INDEX Data
	VETOR REAL      PotInst        INDEX Data
	VETOR REAL      FPMed          INDEX Data
	VETOR REAL      Qmin           INDEX Data
	VETOR REAL      Qmax           INDEX Data
	VETOR REAL      Vmin           INDEX Data
	VETOR REAL      Vmax           INDEX Data
	PARM  REAL      Vinic
	PARM  INTEGER   VNC
	VETOR REAL      DfTotMin       INDEX Data
	VETOR REAL      ICP            INDEX Data
	VETOR REAL      IH             INDEX Data
	VETOR INTEGER   Eaflu          INDEX Data

	PARM  INTEGER   AreaType
	PARM  REAL      AreaConst
	PARM  INTEGER   FiltType
	PARM  REAL      FiltConst
	PARM  REAL      RegFactor
	PARM  INTEGER   ProdTypePol
	PARM  INTEGER   SpillCostType
	PARM  REAL      SpillCost
	PARM  INTEGER   OutSampling
	VETOR  REAL      O&MCost
	PARM  INTEGER   ProdTypeSim
	PARM  REAL      TurbGenEffic
	PARM  REAL      MeanTailLevel

	//PARM  INTEGER   SECalcFlag
	PARM  REAL      TurbLossFactor
	PARM  REAL      SpillLossFactor

	//--- Storage x Production table ---
	PARM  REAL      FP DIM(point)
	PARM  REAL      FP.VOL DIM(point)

	//--- Storage x Area table ---
	PARM  REAL      SxA_Area       DIM(point)
	PARM  REAL      SxA_Storage    DIM(point)

	//--- Storage x Filtration table ---
	PARM  REAL      SxF_Filtration DIM(point)
	PARM  REAL      SxF_Storage    DIM(point)

	//--- Storage x Head table ---
	PARM  REAL      SxH_Head       DIM(point)
	PARM  REAL      SxH_Storage    DIM(point)

	//--- Inflow x Turbining table ---
	VETOR INTEGER   Indicador      INDEX Data
	VETOR REAL      TurIn          DIM(point) INDEX Data
	VETOR REAL      TotIn          DIM(point) INDEX Data
	//PARM  REAL      IxT_Turbining  DIM(point) INDEX Data
	//PARM  REAL      IxT_Inflow     DIM(point) INDEX Data

	//--- Outflow x Tailwater elevation table ---
	VETOR  REAL      OxT_Tail       DIM(point) INDEX Data
	VETOR  REAL      OxT_Outflow    DIM(point) INDEX Data

	//--- Outflow x Effic ---
	VECTOR DATE     OxE_Date
	VECTOR REAL     OxE_Outflow    DIM(varpoint) INDEX OxE_Date
	VECTOR REAL     OxE_Efficiency DIM(varpoint) INDEX OxE_Date

	//--- Storage x Max Turbining ---
	VECTOR DATE     SxQ_Date
	VECTOR REAL     SxQ_Storage      DIM(varpoint) INDEX SxQ_Date
	VECTOR REAL     SxQ_MaxTurbining DIM(varpoint) INDEX SxQ_Date

	//--- Net Head x Power ---
	VECTOR DATE     HxP_Date
	VECTOR REAL     NetHead  DIM(varpoint) INDEX HxP_Date
	VECTOR REAL     Power    DIM(varpoint) INDEX HxP_Date

	//--- Outflow x Tailwater elevation (seasonal) ---
	VECTOR DATE     OxT_Date
	VECTOR REAL     OxT_Outflow_S DIM(varpoint) INDEX OxT_Date
	VECTOR REAL     OxT_Tail_S    DIM(varpoint) INDEX OxT_Date

	//--- Evaporation coefficient ---
	PARM  REAL      Evap           DIM(month)

	PARM  INTEGER   VinicType

	PARM  INTEGER	TailwaterFlag

	//--- Chronological data ---
	VETOR DATE      DataFloodControlStorage
	VETOR REAL      FloodControlStorage INDEX DataFloodControlStorage

	PARM  REAL      VolMinPenalty
	VETOR DATE      DataVolumeMinimum
	VETOR REAL      VolumeMinimum INDEX DataVolumeMinimum

	PARM  REAL	VolMaxPenalty
	VETOR DATE	DataVolumeMaximum
	VETOR REAL	VolumeMaximum INDEX DataVolumeMaximum

	PARM  REAL      AlertStoragePenalty
	VETOR DATE      DataAlertStorage
	VETOR REAL      AlertStorage INDEX DataAlertStorage

	PARM  REAL      MinTOPenalty
	VETOR DATE      DataMinTO
	VETOR REAL      MinTO INDEX  DataMinTO

	PARM  REAL      MaxTOPenalty
	VETOR DATE      DataMaxTO
	VETOR REAL      MaxTO INDEX  DataMaxTO

	PARM  REAL      MinSpillagePenalty
	VETOR DATE      DataMinSpillage
	VETOR REAL      MinSpillage INDEX  DataMinSpillage

	PARM  REAL		MaxSpillagePenalty
	VETOR DATE		DataMaxSpillage
	VETOR REAL		MaxSpillage INDEX DataMaxSpillage

	PARM  INTEGER   RiegPenalty
	PARM  REAL      RiegPenaltyValue
	VETOR DATE      DataRieg
	VETOR REAL      Rieg INDEX DataRieg

	VETOR DATE      DataSpinningReserve
	VETOR REAL      SpinningReserve DIM(block) INDEX DataSpinningReserve

	PARM  REAL      MaxTurbiningPenalty
	VETOR DATE      DataMaxTurbining
	VETOR REAL      MaxTurbining INDEX  DataMaxTurbining

	PARM  DATE      DateDeadStorage
	PARM  INTEGER   DurationDeadStorage
	PARM  REAL      InitialValueDeadStorage

	VETOR DATE		DataMaxSecondaryReserve
	VETOR REAL		MaxSecondaryReserve DIM(block) INDEX DataMaxSecondaryReserve
	VETOR DATE		DataPriceSecondaryReserve
	VETOR REAL		PriceSecondaryReserve DIM(block) INDEX DataPriceSecondaryReserve

	PARM REAL PrdEsp
	PARM REAL PrdHid
	PARM INTEGER PolU
	PARM REAL PolA0
	PARM REAL PolA1
	PARM REAL PolA2
	PARM REAL PolA3
	PARM REAL PolA4

	VECTOR  DATE	  DataLossFactor
	VECTOR  REAL      LossFactor	INDEX DataLossFactor

	VECTOR  DATE	  DataRegTime
	VECTOR  REAL      RegTime	INDEX DataRegTime

	VECTOR  DATE	  DataVolVNC
	VETOR	REAL      VolVNC           INDEX DataVolVNC


        PARM  INTEGER     RunRiverType

	PARM  REAL		DischargeRampUp							// Discharge Ramp Up
	PARM  REAL		DischargeRampDown						// Discharge Ramp Down
	PARM  INTEGER	TravelTimeTurb							// Water Travel Time Turbining
	PARM  INTEGER	TravelTimeSpil							// Water Travel Time Spilling
	PARM  REAL		RampUp
	PARM  REAL		RampDown

	PARM INTEGER FlagConstantTurbining
	PARM INTEGER FlagConstantSpilling
	PARM INTEGER FlagConstantOutflow

	VETOR DATE InitialDateMaintenance
	VETOR DATE EndDateMaintenance INTERVAL InitialDateMaintenance
	VETOR REAL MaintenanceValue INDEX InitialDateMaintenance

	// PolJus
	PARM REAL	DsPolReference
	PARM INTEGER	DsPolCount
	PARM INTEGER	DsPolOrder
	VETOR REAL	DsPolCoefficients DIM(varpoint)

	// Conjunto de Maquinas
	PARM INTEGER	UnitsGroupTotal
	PARM INTEGER	UnitsGroupCode DIM(varpoint)
	PARM INTEGER	UnitsGroupCount DIM(varpoint)
	PARM REAL	UnitsGroupEfP DIM(varpoint)
	PARM REAL	UnitsGroupEfQ DIM(varpoint)
	PARM REAL	UnitsGroupEfH DIM(varpoint)

	// Turbina
	PARM INTEGER	TurbineType
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Geracao nao despachavel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Gnd
        DIMENSION 		block

	VETOR DATE		Data
	VETOR INTEGER		Existing INDEX Data
	VETOR INTEGER		Unidades INDEX Data
	VETOR REAL		PotInst INDEX Data
	VETOR REAL		FatOpe INDEX Data
	VETOR REAL		ICP INDEX Data
	VETOR INTEGER		sfal INDEX Data

	VETOR REAL		O&MCost INDEX Data
	VETOR REAL		CurtailmentCost  INDEX Data
	PARM INTEGER	TechType

	//--- Cenarios de geracao por bloco ---
	VETOR DATE		DataGeneration
	VETOR REAL		Generation DIM(block) INDEX DataGeneration

	//--- Cenarios de geracao horaria ---
	VETOR REAL		HourGeneration

	VETOR DATE InitialDateMaintenance
	VETOR DATE EndDateMaintenance INTERVAL InitialDateMaintenance
	VETOR REAL MaintenanceValue INDEX InitialDateMaintenance
END_MODEL
DEFINE_MODEL MODL:SDDP_PostoMedicaoGnd
	PARM	INTEGER	TechType
	PARM	INTEGER	SourceType

        DIMENSION 		block
	//--- Cenarios de geracao por bloco ---
	VETOR DATE		DataGeneration
	VETOR REAL		Generation DIM(block) INDEX DataGeneration
	//--- Cenarios de geracao horaria ---
	VETOR REAL		HourGeneration
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para usina csp
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_Csp
        DIMENSION 		block

	VETOR DATE		Data
	VETOR INTEGER		Existing INDEX Data
	VETOR INTEGER		Unidades INDEX Data
	VETOR REAL		PotInst INDEX Data
	VETOR REAL		SM INDEX Data
	VETOR REAL		Vmax INDEX Data
	VETOR REAL		Efficiency INDEX Data

	//--- Cenarios de geracao por bloco ---
	VETOR DATE		DataGeneration
	VETOR REAL		Generation DIM(block) INDEX DataGeneration

	//--- Cenarios de geracao horaria ---
	VETOR REAL		HourGeneration
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo para Combustivel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Combustivel
	VETOR DATE		Data
	PARM  STRING		UComb
	PARM  STRING		UE
	PARM  REAL		EmiCO2
	VETOR REAL		Custo INDEX Data

	VETOR DATE		DataConsumptionMax
	VETOR REAL		ConsumptionMax INDEX DataConsumptionMax
	VETOR DATE		DataAvailability
	VETOR REAL		Availability INDEX DataAvailability

	PARM INTEGER		FlagScenario
	VETOR REAL		ScenarioCost
END_MODEL

//--------------------------------------------------------------------------------------------------
// Modelo de Manutencao
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Manutencao
	VETOR DATE		Data
	VETOR REAL		Manutencao INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Restricao de Conjunto de Elementos
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Restricao
        DIMENSION 		block

	VETOR DATE		Data
	VETOR REAL		Restricao DIM(block) INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Restricao de Soma de Elementos
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_RestricaoSoma
        DIMENSION 		block
	VETOR DATE		Data
	VETOR REAL		LB DIM(block) INDEX Data
	VETOR REAL		UB DIM(block) INDEX Data
	VETOR REAL		Coefficients
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Restricao de Geracao
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_RestricaoGeracao
	MERGE_MODEL MODL:SDDP_V10.2_Restricao
	PARM REAL	Penalty
	PARM STRING	sign
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Restricao de Reserva de Geracao
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_ReservaGeracao
	MERGE_MODEL MODL:SDDP_V10.2_Restricao
	PARM INTEGER	RHSType
	PARM INTEGER	ReserveType
	PARM INTEGER	DefaultPenalty
	PARM REAL	Penalty
	PARM INTEGER	Exclusive
	PARM INTEGER	LimitType
	PARM INTEGER	Type
	PARM INTEGER	CompensateNoSel
	PARM INTEGER	CompensateSel
	PARM INTEGER	DCLinkFlowLimit
	PARM INTEGER	Unit
	VETOR REAL 	HourReserve
	PARM REAL CoefA
	PARM REAL CoefB
	VETOR REAL	CoefBacked
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Conexao Hidreletrica entre usinas
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_ConexaoHidreletrica
	PARM INTEGER		IsTurbinamento
	PARM INTEGER		IsVertimento
	PARM INTEGER		IsFiltration
	PARM INTEGER		IsStoredEnergy
	PARM INTEGER		IsAssociatedReservoir
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Posto Hidrologico
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_PostoHidrologico
	DIMENSION	lag 12
	VETOR DATE		Data
	VETOR REAL		Vazao INDEX Data

        //--- Parametros associados a representacao por autoregressao ---
        VETOR  INTEGER          Ordem
	VETOR REAL              Fi DIM(lag)
	VETOR REAL              Av
	VETOR REAL              Sd
	VETOR REAL              Teta
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para a Link DC
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_DCLink
	PARM INTEGER	FlagQuadraticLoss
	VETOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VETOR REAL	Capacity->	INDEX Data
	VETOR REAL	Capacity<-	INDEX Data
	VETOR REAL 	LossFactor->	INDEX Data
	VETOR REAL 	LossFactor<-	INDEX Data
	VETOR REAL	CapacityEmergency->	 INDEX Data
	VETOR REAL	CapacityEmergency<-	 INDEX Data
	VETOR REAL 	R	 INDEX Data

	VETOR DATE InitialDateMaintenance
	VETOR DATE EndDateMaintenance INTERVAL InitialDateMaintenance
	VETOR REAL MaintenanceValue INDEX InitialDateMaintenance
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para no de gas
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_NoGas
        DIMENSION 	block
	VETOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VETOR REAL	MinProd INDEX Data
	VETOR REAL	MaxProd INDEX Data
	VETOR REAL	ProdCost INDEX Data

	//--- Custo de producao em informacao cronologica
	VETOR DATE 	DataChroProdCost
	VETOR REAL	ChroProdCost DIM(block) INDEX DataChroProdCost
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para gasoduto
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Gasoduto
        PARM  STRING	UnM

	VETOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VETOR REAL	Capacity-> INDEX Data
	VETOR REAL	Capacity<- INDEX Data
	VETOR REAL	LossFactor-> INDEX Data
	VETOR REAL	LossFactor<- INDEX Data
	VETOR REAL	TranspCost INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Dados de Georeferenciamento
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:GEOREFERENCE
	VECTOR REAL    Latitude
  	 VECTOR REAL    Longitude
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Bateria
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_Bateria
	PARM REAL 	Einic
	PARM INTEGER 	RegTime
	PARM INTEGER 	FlagInterStage
	PARM REAL ChargeRamp
	PARM REAL DischargeRamp

	VETOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VETOR REAL 	Emin INDEX Data
	VETOR REAL 	Emax INDEX Data
	VETOR REAL 	Pmax INDEX Data
	VETOR REAL 	ChargeEffic INDEX Data
	VETOR REAL 	DischargeEffic INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Consumo de Combustivel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ConsumoCombustivel
    DIMENSION         block
    DIMENSION        segment 3
    VETOR DATE        Data
    VETOR REAL        O&MCost INDEX Data
    VETOR REAL        G DIM(segment) INDEX Data
    VETOR REAL        CTransp INDEX Data
    VETOR DATE        DataCesp
    VETOR REAL        CEsp DIM(segment,block) INDEX DataCesp
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para injecao de potencia
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_V10.2_InjecaoPotencia
	//--- Cenarios de geracao horaria ---
	VETOR REAL		HourInjection
	VETOR REAL		HourPriceInjection
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Contrato de combustivel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ContratoCombustivel
		DIMENSION         block

        PARM  INTEGER	Type
        PARM  REAL	MaxOfftakeRate
        PARM  REAL	ContractedAmount
        PARM  REAL	TakeOrPayAmount
        PARM  REAL	ConsumedAmount
        PARM  REAL	TakeOrPayCost
        PARM  REAL	ExtraTakeOrPayCost
        PARM  DATE	InitialDate
        PARM  DATE	FinalDate
        PARM  INTEGER	NumberRenewals
        PARM  REAL	MaxTransferRenewal
        PARM INTEGER    UnitConsumedAmount

		VETOR DATE DataCost
		VETOR REAL Cost  INDEX DataCost
		VETOR DATE DataMaxOfftake
		VETOR REAL MaxOfftake  DIM(block) INDEX DataMaxOfftake

	VETOR DATE		DataAvailability
	VETOR REAL		Availability INDEX DataAvailability
		
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Reservatorio de combustivel
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ReservatorioCombustivel
	DIMENSION         block
        VETOR	DATE	Data
        PARM	REAL	InitialCondition
        PARM	REAL	MaxInjection
        PARM	REAL	MaxWithdrawal
        VETOR	REAL	MaxCapacity INDEX Data

		VETOR	DATE	DataChroMaxInjection
		VETOR	REAL	ChroMaxInjection DIM(block) INDEX DataChroMaxInjection

		VETOR	DATE	DataChroMaxWithdrawal
		VETOR	REAL	ChroMaxWithdrawal DIM(block) INDEX DataChroMaxWithdrawal
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Soma de Restriçao de Interconexão
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_RestricaoSomaInterconexao
	MERGE_MODEL MODL:SDDP_V10.2_RestricaoSoma
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Soma de Restriçao de Circuito
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_RestricaoSomaCircuito
	MERGE_MODEL MODL:SDDP_V10.2_RestricaoSoma
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Ciclo combinado
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_CicloCombinadoTermica
	VETOR	DATE	DataOperativeState
	VETOR	INTEGER	OperativeState INDEX DataOperativeState
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para emissao de gas
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_EmissaoGas
        DIMENSION plant AUTOSET(serialized_size(plants))
        PARM	STRING	Unit

        VETOR DATE  DateCoefEmission
        VETOR REAL  CoefEmission DIM(plant) INDEX DateCoefEmission

        VETOR DATE DateConstraint
        VETOR DATE DateConstraintEnd INTERVAL DateConstraint
        VETOR REAL Quota INDEX DateConstraint
        VETOR REAL Penalty INDEX DateConstraint

	VETOR DATE DateEmissionCost
	VETOR REAL EmissionCost INDEX DateEmissionCost

END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de Restricao generica
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_RestricaoGenerica
	PARM REAL	Penalty
	PARM STRING	sign
	PARM STRING	Unit
	VETOR DATE	Data
	VETOR REAL	RHS INDEX Data
	VETOR REAL		Coefficients
	VETOR STRING	Variables
	VETOR STRING	Units
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo de conjunto de reservatorios
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ConjuntoReservatorios
	PARM  INTEGER	MinimumEnergyUnit
	PARM  REAL      MinimumEnergyPenalty
	VETOR DATE      DataMinimumEnergy
	VETOR REAL      MinimumEnergy INDEX DataMinimumEnergy

	PARM  INTEGER	FloodControlUnit
	PARM  REAL	FloodControlPenalty
	VETOR DATE	DataFloodControl
	VETOR REAL	FloodControl INDEX DataFloodControl

	PARM  INTEGER	AlertEnergyUnit
	PARM  REAL      AlertEnergyPenalty
	VETOR DATE      DataAlertEnergy
	VETOR REAL      AlertEnergy INDEX DataAlertEnergy
END_MODEL
//--------------------------------------------------------------------------------------------------
// Fuel Production Plant
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_FuelProduction
	VECTOR DATE 	Data
	VECTOR INTEGER	Existing INDEX Data
	VECTOR REAL	SpecCons INDEX Data
	VECTOR REAL	MaxProd INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Process
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationProcess
	PARM STRING Unit
	PARM  REAL  DefCost
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Node
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationNode
	// nada aqui
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Transport
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationTransport
	VECTOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VECTOR REAL	CapFromTo INDEX Data
	VECTOR REAL	CapToFrom INDEX Data
	VECTOR REAL	CostFromTo INDEX Data
	VECTOR REAL	CostToFrom INDEX Data
	VECTOR REAL	LossFromTo INDEX Data
	VECTOR REAL	LossToFrom INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Producer
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationProducer
	VECTOR DATE 	Data
	VECTOR INTEGER	Existing INDEX Data
	VECTOR REAL	SpecCons INDEX Data
	VECTOR REAL	MaxProd INDEX Data
	VECTOR REAL	ProdCost INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Storage
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationStorage
	PARM REAL 	IniStor
	PARM INTEGER 	MaxRegTime
	PARM INTEGER 	FlagInterStage
	PARM REAL ChargeRamp
	PARM REAL DischargeRamp

	VETOR DATE 	Data
	VETOR INTEGER	Existing INDEX Data
	VETOR REAL 	MinStor INDEX Data
	VETOR REAL 	MaxStor INDEX Data
	VETOR REAL 	MaxCharge INDEX Data
	VETOR REAL 	MaxDischarge INDEX Data
	VETOR REAL 	ChargeEff INDEX Data
	VETOR REAL 	DischargeEff INDEX Data
END_MODEL
//--------------------------------------------------------------------------------------------------
// Electrification Demand
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationDemand
	PARM  INTEGER	FirstElastic
	PARM	INTEGER	SourceType
END_MODEL
//--------------------------------------------------------------------------------------------------
// Modelo para Segmento de Demanda
//--------------------------------------------------------------------------------------------------
DEFINE_MODEL MODL:SDDP_ElectrificationDemandSegment
        DIMENSION	block
	VETOR DATE 	Data
	VETOR REAL 	Demanda	DIM(block) INDEX Data
	VETOR DATE 	DataCusto
	VETOR REAL 	Custo	DIM(block) INDEX DataCusto

	//--------------------------------------
	//--- Demanda Horaria                ---
	//--------------------------------------
	VETOR DATE 	DataHourDemand
	VETOR REAL 	HourDemand INDEX DataHourDemand
	VETOR DATE 	DataHourDemandPrice
	VETOR REAL 	HourDemandPrice INDEX DataHourDemandPrice
END_MODEL


DEFINE_MODEL MODL:SDDP_Hourly_Data
    PARM INTEGER BMAP
    PARM INTEGER LOAD
    PARM INTEGER RENW
    PARM INTEGER CLOD
    PARM INTEGER AGRV
    PARM INTEGER PINJ
    PARM INTEGER CINJ
END_MODEL
DEFINE_MODEL MODL:SDDP_Cronological_Data
    PARM INTEGER PMHI
    PARM INTEGER PMTR
    PARM INTEGER CARR
    PARM INTEGER VALE
    PARM INTEGER VMIN
    PARM INTEGER VESP
    PARM INTEGER MNSP
    PARM INTEGER RGER
    PARM INTEGER FCON
    PARM INTEGER FRAT
    PARM INTEGER MXTO
    PARM INTEGER MROD
    PARM INTEGER MNTO
    PARM INTEGER GMIN
    PARM INTEGER RESG
    PARM INTEGER DUVA
    PARM INTEGER RIEG
    PARM INTEGER CEMI
    PARM INTEGER CCMB
    PARM INTEGER CCST
    PARM INTEGER FCCR
    PARM INTEGER FRCI
    PARM INTEGER FRCR
	PARM INTEGER VMXO
END_MODEL
DEFINE_MODEL MODL:SDDP_Execution_Options
    PARM INTEGER VBCK
    PARM INTEGER FFUL
    PARM INTEGER FTAB
    PARM INTEGER FKMX
    PARM INTEGER FCNF
    PARM INTEGER WPTR
    PARM INTEGER LMIT
    PARM INTEGER TCND
    PARM INTEGER CMON
    PARM INTEGER CCAR
    PARM INTEGER BALC
    PARM INTEGER MACM
    PARM STRING UMON
    PARM INTEGER RSMP
    PARM INTEGER PSER
    PARM INTEGER TOLP
    PARM INTEGER TOLD
    PARM INTEGER SEED
    PARM INTEGER PODP
    PARM INTEGER AVRS
    PARM INTEGER MIPP
    PARM INTEGER CARP
    PARM INTEGER VNOC
    PARM INTEGER COMP
    PARM INTEGER RGAS
    PARM INTEGER ARCV
    PARM INTEGER MNIT
    PARM INTEGER SABS
    PARM INTEGER CGND
    PARM INTEGER REQ2
    PARM INTEGER SBCK
    PARM INTEGER BARR
    PARM INTEGER VNLE
    PARM INTEGER RTAR
    PARM INTEGER PRTC
    PARM INTEGER SEDF
    PARM REAL MIPR
    PARM INTEGER VIEX
    PARM INTEGER TPVD
    PARM INTEGER VEFX
    PARM INTEGER VEFB
    PARM INTEGER BCSV
    PARM INTEGER SAGR
    PARM INTEGER RELC
    PARM INTEGER PSLB
    PARM INTEGER PSLD
    PARM INTEGER CMNC
    PARM INTEGER CIEX
    PARM INTEGER NSIF
    PARM INTEGER DEMV
    PARM INTEGER CMGB
    PARM INTEGER NMET
    PARM INTEGER RFLW
    PARM INTEGER CFLW
    PARM INTEGER PSLI
    PARM INTEGER LOSS
    PARM INTEGER REDE
    PARM INTEGER RPOL
    PARM INTEGER MXLS
    PARM INTEGER SIMH
    PARM INTEGER PENV
    PARM INTEGER PLSS
    PARM INTEGER ITAL
    PARM INTEGER GSNP
    PARM INTEGER GSFI
    PARM INTEGER WMPS
    PARM INTEGER WSVF
    PARM INTEGER WRLP
    PARM INTEGER CVCT
    PARM INTEGER CCTA
    PARM INTEGER CCTL
    PARM INTEGER MAXT
    PARM INTEGER RPK2
    PARM INTEGER BINF
    PARM INTEGER EXPN
    PARM INTEGER MXAP
    PARM INTEGER LSTG
    PARM INTEGER NITH
    PARM INTEGER MIPH
    PARM INTEGER CHRB
    PARM INTEGER BUNI
    PARM INTEGER META
    PARM INTEGER VCLA
    PARM INTEGER RELI
    PARM INTEGER ADLS
    PARM INTEGER MUIT
    PARM INTEGER RCTH
    PARM INTEGER FLSL
    PARM INTEGER BAGF
    PARM INTEGER BAGR
    PARM INTEGER GMET
    PARM INTEGER RMIP
    PARM INTEGER LBGT
    PARM INTEGER FPCT
    PARM INTEGER SVFI
    PARM INTEGER S3FI
    PARM INTEGER CASS
    PARM INTEGER RSUS
    PARM INTEGER ERDC
    PARM STRING SOPT

    PARM REAL NCPL_MIPR
	PARM REAL NCPL_LTOL
    PARM INTEGER NCPL_SLCE
    PARM INTEGER NCPL_NMXT
    PARM INTEGER NCPL_SCRS
    PARM INTEGER NCPL_RALG
    PARM INTEGER NCPL_RMIP
    PARM INTEGER NCPL_WRLP
    PARM INTEGER NCPL_NCSP
    PARM INTEGER NCPL_DSLC
    PARM INTEGER NCPL_CRSV
    PARM INTEGER NCPL_CKDF
    PARM INTEGER NCPL_TERF
    PARM INTEGER NCPL_DEBG
    PARM INTEGER NCPL_CCOS
	PARM INTEGER NCPL_SCRT
	PARM INTEGER NCPL_RLOS
	PARM INTEGER NCPL_RSBT
	PARM INTEGER NCPL_HUNI
	PARM INTEGER NCPL_RAMP
	PARM INTEGER NCPL_INCO
	PARM INTEGER NCPL_RTRA
	PARM INTEGER NCPL_INWT
	PARM INTEGER NCPL_BINS
	PARM INTEGER NCPL_BETR
	PARM INTEGER NCPL_NDIS
	PARM INTEGER NCPL_KDIS
END_MODEL
